<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>OpenID Connect - Authelia</title> <link rel="shortcut icon" href="/docs/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/docs/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-124926127-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-124926127-1'); </script> <script type="text/javascript" src="/docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/docs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>OpenID Connect | Authelia</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="OpenID Connect" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Authelia is an open source multi-factor single sign-on portal for web applications" /> <meta property="og:description" content="Authelia is an open source multi-factor single sign-on portal for web applications" /> <meta property="og:site_name" content="Authelia" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="OpenID Connect" /> <script type="application/ld+json"> {"description":"Authelia is an open source multi-factor single sign-on portal for web applications","headline":"OpenID Connect","url":"/docs/configuration/identity-providers/oidc.html","@type":"WebPage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/docs/images/authelia-title.png"}},"@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css" /> <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" /> </head> <body> <a class="github-fork-ribbon" href="https://github.com/authelia/authelia" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-contrib" viewBox="0 0 24 24"> <title>Survey contribution</title> <?xml version="1.0" encoding="iso-8859-1"?> <!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --> <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"> <path style="fill:#FEC9A3;" d="M507.661,503.322V399.907c0-11.325-5.528-21.938-14.805-28.438l-65.25-45.681 c-4.374-3.063-9.589-4.703-14.935-4.703h-52.536l0.868,148.48c0.321,15.473,10.431,29.028,25.166,33.757H507.661z"/> <path style="fill:#FABD91;" d="M455.593,503.322h-60.746c-19.17,0-34.712-15.542-34.712-34.712v-34.712h60.746L455.593,503.322z"/> <path style="fill:#88B337;" d="M229.966,60.746c-5.979,0.009-11.889,1.258-17.356,3.662V0H56.407 C27.648,0,4.339,23.309,4.339,52.068v156.203h64.408c-9.633-21.938,0.338-47.538,22.285-57.17 c21.938-9.633,47.538,0.338,57.17,22.285c4.886,11.116,4.886,23.778,0,34.894h64.408v-64.408 c21.938,9.633,47.538-0.338,57.17-22.285s-0.338-47.538-22.285-57.17C241.976,61.978,236.006,60.737,229.966,60.746z"/> <path style="fill:#E8594A;" d="M420.881,52.068C420.881,23.309,397.572,0,368.814,0H212.61v64.408 c21.938-9.633,47.538,0.338,57.17,22.285c9.633,21.938-0.338,47.538-22.285,57.17c-11.116,4.886-23.778,4.886-34.894,0v64.408 h64.408c-9.633,21.938,0.338,47.538,22.285,57.17c21.938,9.633,47.538-0.338,57.17-22.285c4.886-11.116,4.886-23.778,0-34.894 h64.417V52.068z"/> <path style="fill:#D65245;" d="M420.881,57.023C371.278,126.03,281.73,165.228,212.61,186.325v21.947h64.408 c-9.633,21.938,0.338,47.538,22.285,57.17c21.938,9.633,47.538-0.338,57.17-22.285c4.886-11.116,4.886-23.778,0-34.894h64.408 V57.023z"/> <path style="fill:#FDB62F;" d="M195.254,277.695c5.979,0.009,11.889,1.258,17.356,3.662v-73.086h-64.408 c9.633-21.938-0.338-47.538-22.285-57.17c-21.947-9.633-47.538,0.338-57.17,22.285c-4.886,11.116-4.886,23.778,0,34.894H4.339 v156.203c0,28.759,23.309,52.068,52.068,52.068H212.61v-55.73c-21.938,9.633-47.538-0.338-57.17-22.285 c-9.633-21.938,0.338-47.538,22.285-57.17C183.244,278.927,189.214,277.686,195.254,277.695z"/> <path style="fill:#FFA719;" d="M4.339,364.475c0,28.759,23.309,52.068,52.068,52.068H212.61v-55.73 c-21.834,9.615-47.33-0.286-56.945-22.12c-2.23-5.068-3.471-10.526-3.645-16.063c-46.523,20.749-96.751,31.918-147.682,32.846 V364.475z"/> <path style="fill:#4398D1;" d="M443.574,389.641l-54.906-146.658l-60.303,22.71c16.809,17.122,16.549,44.631-0.573,61.431 c-17.122,16.801-44.631,16.549-61.431-0.573c-8.556-8.721-13.052-20.636-12.375-32.837l-60.295,22.71l25.687,68.634 c-5.962-0.338-11.932,0.573-17.529,2.673c-22.407,8.695-33.514,33.905-24.819,56.311c8.548,22.016,33.098,33.202,55.322,25.183 c5.597-2.109,10.7-5.372,14.969-9.563L266.9,512l146.241-55.079C440.094,446.716,453.71,416.62,443.574,389.641z"/> <path style="fill:#3E8FC9;" d="M415.258,314.012c-59.878,89.557-172.127,120.832-237.872,131.601 c9.225,21.947,34.495,32.256,56.441,23.031c5.025-2.109,9.607-5.163,13.494-8.982L266.9,512l146.241-55.079 c26.945-10.205,40.552-40.283,30.434-67.254L415.258,314.012z"/> <path style="fill:#80A834;" d="M229.966,60.746c-5.979,0.009-11.889,1.258-17.356,3.662V51.816 C147.63,111.633,59.592,144.67,4.339,160.768v47.503h64.408c-9.633-21.938,0.338-47.538,22.285-57.17 c21.938-9.633,47.538,0.338,57.17,22.285c4.886,11.116,4.886,23.778,0,34.894h64.408v-64.408 c21.938,9.633,47.538-0.338,57.17-22.285s-0.338-47.538-22.285-57.17C241.976,61.978,236.006,60.737,229.966,60.746z"/> <path style="fill:#FEC9A3;" d="M403.682,390.665c-8.305-8.47-21.903-8.609-30.373-0.304c-8.47,8.305-8.609,21.903-0.304,30.373 c0.104,0.104,0.2,0.208,0.304,0.304l30.217,30.217c0,28.759,23.309,52.068,52.068,52.068l0,0h52.068v-8.678L403.682,390.665z"/> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/docs/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/" class="nav-list-link">Home</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/home/architecture.html" class="nav-list-link">Architecture</a></li><li class="nav-list-item "><a href="/docs/home/supported-proxies.html" class="nav-list-link">Supported Proxies</a></li></ul></li><li class="nav-list-item"><a href="/docs/getting-started.html" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/features/" class="nav-list-link">Features</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/features/first-factor.html" class="nav-list-link">First Factor</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/features/2fa/" class="nav-list-link">Second Factor</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/features/2fa/one-time-password.html" class="nav-list-link">Time-based One-Time Password</a> </li><li class="nav-list-item "> <a href="/docs/features/2fa/security-key.html" class="nav-list-link">Security Keys</a> </li><li class="nav-list-item "> <a href="/docs/features/2fa/push-notifications.html" class="nav-list-link">Push Notification</a> </li></ul></li><li class="nav-list-item "><a href="/docs/features/single-factor.html" class="nav-list-link">Single Factor</a></li><li class="nav-list-item "><a href="/docs/features/password-reset.html" class="nav-list-link">Password Reset</a></li><li class="nav-list-item "><a href="/docs/features/access-control.html" class="nav-list-link">Access Control</a></li><li class="nav-list-item "><a href="/docs/features/regulation.html" class="nav-list-link">Regulation</a></li><li class="nav-list-item "><a href="/docs/features/statelessness.html" class="nav-list-link">Statelessness</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/" class="nav-list-link">Configuration</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/configuration/access-control.html" class="nav-list-link">Access Control</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/authentication/" class="nav-list-link">Authentication Backends</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/configuration/authentication/file.html" class="nav-list-link">File</a> </li><li class="nav-list-item "> <a href="/docs/configuration/authentication/ldap.html" class="nav-list-link">LDAP</a> </li></ul></li><li class="nav-list-item "><a href="/docs/configuration/duo-push-notifications.html" class="nav-list-link">Duo Push Notifications</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/identity-providers/" class="nav-list-link">Identity Providers</a><ul class="nav-list"><li class="nav-list-item active"> <a href="/docs/configuration/identity-providers/oidc.html" class="nav-list-link active">OpenID Connect</a> </li></ul></li><li class="nav-list-item "><a href="/docs/configuration/logging.html" class="nav-list-link">Logging</a></li><li class="nav-list-item "><a href="/docs/configuration/migration.html" class="nav-list-link">Migration</a></li><li class="nav-list-item "><a href="/docs/configuration/miscellaneous.html" class="nav-list-link">Miscellaneous</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/notifier/" class="nav-list-link">Notifier</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/configuration/notifier/filesystem.html" class="nav-list-link">Filesystem</a> </li><li class="nav-list-item "> <a href="/docs/configuration/notifier/smtp.html" class="nav-list-link">SMTP</a> </li></ul></li><li class="nav-list-item "><a href="/docs/configuration/ntp.html" class="nav-list-link">NTP</a></li><li class="nav-list-item "><a href="/docs/configuration/regulation.html" class="nav-list-link">Regulation</a></li><li class="nav-list-item "><a href="/docs/configuration/secrets.html" class="nav-list-link">Secrets</a></li><li class="nav-list-item "><a href="/docs/configuration/server.html" class="nav-list-link">Server</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/session/" class="nav-list-link">Session</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/configuration/session/redis.html" class="nav-list-link">Redis</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/storage/" class="nav-list-link">Storage Backends</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/configuration/storage/mariadb.html" class="nav-list-link">MariaDB</a> </li><li class="nav-list-item "> <a href="/docs/configuration/storage/mysql.html" class="nav-list-link">MySQL</a> </li><li class="nav-list-item "> <a href="/docs/configuration/storage/postgres.html" class="nav-list-link">PostgreSQL</a> </li><li class="nav-list-item "> <a href="/docs/configuration/storage/sqlite.html" class="nav-list-link">SQLite</a> </li><li class="nav-list-item "> <a href="/docs/configuration/storage/migrations.html" class="nav-list-link">Migrations</a> </li></ul></li><li class="nav-list-item "><a href="/docs/configuration/theme.html" class="nav-list-link">Theme</a></li><li class="nav-list-item "><a href="/docs/configuration/one-time-password.html" class="nav-list-link">Time-based One-Time Password</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/deployment/" class="nav-list-link">Deployment</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/deployment/deployment-lite.html" class="nav-list-link">Deployment - Lite</a></li><li class="nav-list-item "><a href="/docs/deployment/deployment-ha.html" class="nav-list-link">Deployment - Highly-Available</a></li><li class="nav-list-item "><a href="/docs/deployment/deployment-kubernetes.html" class="nav-list-link">Deployment - Kubernetes</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/deployment/supported-proxies/" class="nav-list-link">Proxy Integration</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/deployment/supported-proxies/haproxy.html" class="nav-list-link">HAProxy</a> </li><li class="nav-list-item "> <a href="/docs/deployment/supported-proxies/nginx.html" class="nav-list-link">NGINX</a> </li><li class="nav-list-item "> <a href="/docs/deployment/supported-proxies/traefik2.x.html" class="nav-list-link">Traefik 2.x</a> </li><li class="nav-list-item "> <a href="/docs/deployment/supported-proxies/traefik1.x.html" class="nav-list-link">Traefik 1.x</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/security/" class="nav-list-link">Security</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/security/measures.html" class="nav-list-link">Security Measures</a></li><li class="nav-list-item "><a href="/docs/security/threat-model.html" class="nav-list-link">Threat Model</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/contributing/" class="nav-list-link">Contributing</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/contributing/build-and-dev.html" class="nav-list-link">Build & Dev</a></li><li class="nav-list-item "><a href="/docs/contributing/authelia-scripts.html" class="nav-list-link">Authelia Scripts</a></li><li class="nav-list-item "><a href="/docs/contributing/commitmsg-guidelines.html" class="nav-list-link">Commit Message Guidelines</a></li><li class="nav-list-item "><a href="/docs/contributing/style-guide.html" class="nav-list-link">Style Guide</a></li><li class="nav-list-item "><a href="/docs/contributing/suites.html" class="nav-list-link">Suites</a></li></ul></li><li class="nav-list-item"><a href="/docs/faq.html" class="nav-list-link">FAQ</a></li><li class="nav-list-item"><a href="/docs/roadmap.html" class="nav-list-link">Roadmap</a></li><li class="nav-list-item"><a href="/docs/about-us.html" class="nav-list-link">About Us</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/community/" class="nav-list-link">Community</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/community/two-factor-basic-auth.html" class="nav-list-link">2FA through basic auth</a></li><li class="nav-list-item "><a href="/docs/community/using-remote-user-header-for-sso-with-jira.html" class="nav-list-link">Using Remote-User header for SSO with Jira</a></li><li class="nav-list-item "><a href="/docs/community/additional-resources.html" class="nav-list-link">Miscellaneous Additional Resources</a></li><li class="nav-list-item "><a href="/docs/community/example-of-authelia-lite-on-docker-swarm.html" class="nav-list-link">Example of authelia lite on docker swarm</a></li><li class="nav-list-item "><a href="/docs/community/oidc-integrations.html" class="nav-list-link">Community-Tested OIDC Integrations</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Authelia" aria-label="Search Authelia" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="">Configuration</a></li> <li class="breadcrumb-nav-list-item"><a href="">Identity Providers</a></li> <li class="breadcrumb-nav-list-item"><span>OpenID Connect</span></li> </ol> </nav> <div id="survey-wrapper" style="border: 1px solid #d6d6d6; border-radius: 5px; background-color: #f1f1f1; padding: 20px; display: flex; flex-direction: row; align-items: center;"> <svg viewBox="0 0 24 24" width="32px" height="32px" class="contrib-icon" style="display: inline-block"><use xlink:href="#svg-contrib"></use></svg> <span style="margin-left: 10px">Help the team improve <b>Authelia</b> by taking this <a href="https://forms.gle/aVw6J9jcez97EAhD6" target="_blank">10-second survey</a>.</span> </div> <div id="main-content" class="main-content" role="main"> <h1 id="openid-connect"> <a href="#openid-connect" class="anchor-heading" aria-labelledby="openid-connect"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> OpenID Connect </h1> <p><strong>Authelia</strong> currently supports the <a href="https://openid.net/connect/">OpenID Connect</a> OP role as a <a href="#roadmap"><strong>beta</strong></a> feature. The OP role is the <a href="https://openid.net/connect/">OpenID Connect</a> Provider role, not the Relying Party or RP role. This means other applications that implement the <a href="https://openid.net/connect/">OpenID Connect</a> RP role can use Authelia as an authentication and authorization backend similar to how you may use social media or development platforms for login.</p> <p>The Relying Party role is the role which allows an application to use GitHub, Google, or other <a href="https://openid.net/connect/">OpenID Connect</a> providers for authentication and authorization. We do not intend to support this functionality at this moment in time.</p> <h2 id="roadmap"> <a href="#roadmap" class="anchor-heading" aria-labelledby="roadmap"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Roadmap </h2> <p>We have decided to implement <a href="https://openid.net/connect/">OpenID Connect</a> as a beta feature, it’s suggested you only utilize it for testing and providing feedback, and should take caution in relying on it in production as of now. <a href="https://openid.net/connect/">OpenID Connect</a> and it’s related endpoints are not enabled by default unless you specifically configure the <a href="https://openid.net/connect/">OpenID Connect</a> section.</p> <p>As <a href="https://openid.net/connect/">OpenID Connect</a> is fairly complex (the <a href="https://openid.net/connect/">OpenID Connect</a> Provider role especially so) it’s intentional that it is both a beta and that the implemented features are part of a thoughtful roadmap. Items that are not immediately obvious as required (i.e. bug fixes or spec features), will likely be discussed in team meetings or on GitHub issues before being added to the list. We want to implement this feature in a very thoughtful way in order to avoid security issues.</p> <p>The beta will be broken up into stages. Each stage will bring additional features. The following table is a <em>rough</em> plan for which stage will have each feature, and may evolve over time:</p> <div class="table-wrapper"><table> <thead> <tr> <th class="tbl-header">Stage</th> <th class="tbl-header">Feature Description</th> </tr> </thead> <tbody> <tr> <td rowspan="8" class="tbl-header tbl-beta-stage">beta1 (4.29.0)</td> <td><a href="https://openid.net/specs/openid-connect-core-1_0.html#Consent" target="_blank" rel="noopener noreferrer">User Consent</a></td> </tr> <tr> <td><a href="https://openid.net/specs/openid-connect-core-1_0.html#CodeFlowSteps" target="_blank" rel="noopener noreferrer">Authorization Code Flow</a></td> </tr> <tr> <td><a href="https://openid.net/specs/openid-connect-discovery-1_0.html" target="_blank" rel="noopener noreferrer">OpenID Connect Discovery</a></td> </tr> <tr> <td>RS256 Signature Strategy</td> </tr> <tr> <td>Per Client Scope/Grant Type/Response Type Restriction</td> </tr> <tr> <td>Per Client Authorization Policy (1FA/2FA)</td> </tr> <tr> <td class="tbl-beta-stage">Per Client List of Valid Redirection URI's</td> </tr> <tr> <td class="tbl-beta-stage"><a href="https://datatracker.ietf.org/doc/html/rfc6749#section-2.1" target="_blank" rel="noopener noreferrer">Confidential Client Type</a></td> </tr> <tr> <td rowspan="6" class="tbl-header tbl-beta-stage">beta2 (4.30.0)</td> <td class="tbl-beta-stage"><a href="https://openid.net/specs/openid-connect-core-1_0.html#UserInfo" target="_blank" rel="noopener noreferrer">Userinfo Endpoint</a> (missed in beta1)</td> </tr> <tr> <td class="tbl-beta-stage">Parameter Entropy Configuration</td> </tr> <tr> <td class="tbl-beta-stage">Token/Code Lifespan Configuration</td> </tr> <tr> <td class="tbl-beta-stage">Client Debug Messages</td> </tr> <tr> <td class="tbl-beta-stage">Client Audience</td> </tr> <tr> <td class="tbl-beta-stage"><a href="https://datatracker.ietf.org/doc/html/rfc6749#section-2.1" target="_blank" rel="noopener noreferrer">Public Client Type</a></td> </tr> <tr> <td rowspan="2" class="tbl-header tbl-beta-stage">beta3 <sup>1</sup></td> <td>Token Storage</td> </tr> <tr> <td class="tbl-beta-stage">Audit Storage</td> </tr> <tr> <td rowspan="4" class="tbl-header tbl-beta-stage">beta4 <sup>1</sup></td> <td><a href="https://openid.net/specs/openid-connect-backchannel-1_0.html" target="_blank" rel="noopener noreferrer">Back-Channel Logout</a></td> </tr> <tr> <td>Deny Refresh on Session Expiration</td> </tr> <tr> <td><a href="https://openid.net/specs/openid-connect-messages-1_0-20.html#rotate.sig.keys" target="_blank" rel="noopener noreferrer">Signing Key Rotation Policy</a></td> </tr> <tr> <td class="tbl-beta-stage">Client Secrets Hashed in Configuration</td> </tr> <tr> <td class="tbl-header tbl-beta-stage">GA <sup>1</sup></td> <td class="tbl-beta-stage">General Availability after previous stages are vetted for bug fixes</td> </tr> <tr> <td rowspan="4" class="tbl-header">misc</td> <td>List of other features that may be implemented</td> </tr> <tr> <td class="tbl-beta-stage"><a href="https://openid.net/specs/openid-connect-frontchannel-1_0.html" target="_blank" rel="noopener noreferrer">Front-Channel Logout</a> <sup>2</sup></td> </tr> <tr> <td class="tbl-beta-stage"><a href="https://datatracker.ietf.org/doc/html/rfc8414" target="_blank" rel="noopener noreferrer">OAuth 2.0 Authorization Server Metadata</a> <sup>2</sup></td> </tr> <tr> <td class="tbl-beta-stage"><a href="https://openid.net/specs/openid-connect-session-1_0-17.html" target="_blank" rel="noopener noreferrer">OpenID Connect Session Management</a> <sup>2</sup></td> </tr> </tbody> </table></div> <p>¹ <em>This stage has not been implemented as of yet</em>.</p> <p>² <em>This individual feature has not been implemented as of yet</em>.</p> <h2 id="configuration"> <a href="#configuration" class="anchor-heading" aria-labelledby="configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration </h2> <p>The following snippet provides a sample-configuration for the OIDC identity provider explaining each field in detail.</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">identity_providers</span><span class="pi">:</span>
  <span class="na">oidc</span><span class="pi">:</span>
    <span class="na">hmac_secret</span><span class="pi">:</span> <span class="s">this_is_a_secret_abc123abc123abc</span>
    <span class="na">issuer_private_key</span><span class="pi">:</span> <span class="pi">|</span>
      <span class="s">--- KEY START</span>
      <span class="s">--- KEY END</span>
    <span class="na">access_token_lifespan</span><span class="pi">:</span> <span class="s">1h</span>
    <span class="na">authorize_code_lifespan</span><span class="pi">:</span> <span class="s">1m</span>
    <span class="na">id_token_lifespan</span><span class="pi">:</span> <span class="s">1h</span>
    <span class="na">refresh_token_lifespan</span><span class="pi">:</span> <span class="s">90m</span>
    <span class="na">enable_client_debug_messages</span><span class="pi">:</span> <span class="no">false</span>
    <span class="na">clients</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">myapp</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s">My Application</span>
        <span class="na">secret</span><span class="pi">:</span> <span class="s">this_is_a_secret</span>
        <span class="na">public</span><span class="pi">:</span> <span class="no">false</span>
        <span class="na">authorization_policy</span><span class="pi">:</span> <span class="s">two_factor</span>
        <span class="na">audience</span><span class="pi">:</span> <span class="pi">[]</span>
        <span class="na">scopes</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">openid</span>
          <span class="pi">-</span> <span class="s">groups</span>
          <span class="pi">-</span> <span class="s">email</span>
          <span class="pi">-</span> <span class="s">profile</span>
        <span class="na">redirect_uris</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">https://oidc.example.com:8080/oauth2/callback</span>
        <span class="na">grant_types</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">refresh_token</span>
          <span class="pi">-</span> <span class="s">authorization_code</span>
        <span class="na">response_types</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">code</span>
        <span class="na">response_modes</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">form_post</span>
          <span class="pi">-</span> <span class="s">query</span>
          <span class="pi">-</span> <span class="s">fragment</span>
        <span class="na">userinfo_signing_algorithm</span><span class="pi">:</span> <span class="s">none</span>
</code></pre></div></div> <h2 id="options"> <a href="#options" class="anchor-heading" aria-labelledby="options"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Options </h2> <h3 id="hmac_secret"> <a href="#hmac_secret" class="anchor-heading" aria-labelledby="hmac_secret"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> hmac_secret </h3> <div> <p class="label label-config label-purple">type: string</p> <p class="label label-config label-red">required: yes</p> </div> <p>The HMAC secret used to sign the <a href="https://openid.net/connect/">OpenID Connect</a> JWT’s. The provided string is hashed to a SHA256 byte string for the purpose of meeting the required format. You must <a href="#generating-a-random-secret">generate this option yourself</a>.</p> <p>Should be defined using a <a href="/docs/configuration/secrets.html">secret</a> which is the recommended for containerized deployments.</p> <h3 id="issuer_private_key"> <a href="#issuer_private_key" class="anchor-heading" aria-labelledby="issuer_private_key"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> issuer_private_key </h3> <div> <p class="label label-config label-purple">type: string</p> <p class="label label-config label-red">required: yes</p> </div> <p>The private key in DER base64 encoded PEM format used to encrypt the <a href="https://openid.net/connect/">OpenID Connect</a> JWT’s.<a href="/docs/faq.html#why-only-use-a-private-issuer-key-and-no-public-key-with-oidc">¹</a> You must <a href="#generating-a-random-secret">generate this option yourself</a>. To create this option, use <code class="language-plaintext highlighter-rouge">docker run -u "$(id -u):$(id -g)" -v "$(pwd)":/keys authelia/authelia:latest authelia rsa generate --dir /keys</code> to generate both the private and public key in the current directory. You can then paste the private key into your configuration.</p> <p>Should be defined using a <a href="/docs/configuration/secrets.html">secret</a> which is the recommended for containerized deployments.</p> <h3 id="access_token_lifespan"> <a href="#access_token_lifespan" class="anchor-heading" aria-labelledby="access_token_lifespan"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> access_token_lifespan </h3> <div> <p class="label label-config label-purple">type: duration</p> <p class="label label-config label-blue">default: 1h</p> <p class="label label-config label-green">required: no</p> </div> <p>The maximum lifetime of an access token. It’s generally recommended keeping this short similar to the default. For more information read these docs about <a href="https://docs.apigee.com/api-platform/antipatterns/oauth-long-expiration">token lifespan</a>.</p> <h3 id="authorize_code_lifespan"> <a href="#authorize_code_lifespan" class="anchor-heading" aria-labelledby="authorize_code_lifespan"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> authorize_code_lifespan </h3> <div> <p class="label label-config label-purple">type: duration</p> <p class="label label-config label-blue">default: 1m</p> <p class="label label-config label-green">required: no</p> </div> <p>The maximum lifetime of an authorize code. This can be rather short, as the authorize code should only be needed to obtain the other token types. For more information read these docs about <a href="https://docs.apigee.com/api-platform/antipatterns/oauth-long-expiration">token lifespan</a>.</p> <h3 id="id_token_lifespan"> <a href="#id_token_lifespan" class="anchor-heading" aria-labelledby="id_token_lifespan"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> id_token_lifespan </h3> <div> <p class="label label-config label-purple">type: duration</p> <p class="label label-config label-blue">default: 1h</p> <p class="label label-config label-green">required: no</p> </div> <p>The maximum lifetime of an ID token. For more information read these docs about <a href="https://docs.apigee.com/api-platform/antipatterns/oauth-long-expiration">token lifespan</a>.</p> <h3 id="refresh_token_lifespan"> <a href="#refresh_token_lifespan" class="anchor-heading" aria-labelledby="refresh_token_lifespan"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> refresh_token_lifespan </h3> <div> <p class="label label-config label-purple">type: string</p> <p class="label label-config label-blue">default: 90m</p> <p class="label label-config label-green">required: no</p> </div> <p>The maximum lifetime of a refresh token. The refresh token can be used to obtain new refresh tokens as well as access tokens or id tokens with an up-to-date expiration. For more information read these docs about <a href="https://docs.apigee.com/api-platform/antipatterns/oauth-long-expiration">token lifespan</a>.</p> <p>A good starting point is 50% more or 30 minutes more (which ever is less) time than the highest lifespan out of the <a href="#access_token_lifespan">access token lifespan</a>, the <a href="#authorize_code_lifespan">authorize code lifespan</a>, and the <a href="#id_token_lifespan">id token lifespan</a>. For instance the default for all of these is 60 minutes, so the default refresh token lifespan is 90 minutes.</p> <h3 id="enable_client_debug_messages"> <a href="#enable_client_debug_messages" class="anchor-heading" aria-labelledby="enable_client_debug_messages"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> enable_client_debug_messages </h3> <div> <p class="label label-config label-purple">type: boolean</p> <p class="label label-config label-blue">default: false</p> <p class="label label-config label-green">required: no</p> </div> <p>Allows additional debug messages to be sent to the clients.</p> <h3 id="minimum_parameter_entropy"> <a href="#minimum_parameter_entropy" class="anchor-heading" aria-labelledby="minimum_parameter_entropy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> minimum_parameter_entropy </h3> <div> <p class="label label-config label-purple">type: integer</p> <p class="label label-config label-blue">default: 8</p> <p class="label label-config label-green">required: no</p> </div> <p>This controls the minimum length of the <code class="language-plaintext highlighter-rouge">nonce</code> and <code class="language-plaintext highlighter-rouge">state</code> parameters.</p> <p><strong><em>Security Notice:</em></strong> Changing this value is generally discouraged, reducing it from the default can theoretically make certain scenarios less secure. It is highly encouraged that if your OpenID Connect RP does not send these parameters or sends parameters with a lower length than the default that they implement a change rather than changing this value.</p> <h3 id="clients"> <a href="#clients" class="anchor-heading" aria-labelledby="clients"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> clients </h3> <p>A list of clients to configure. The options for each client are described below.</p> <h4 id="id"> <a href="#id" class="anchor-heading" aria-labelledby="id"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> id </h4> <div> <p class="label label-config label-purple">type: string</p> <p class="label label-config label-red">required: yes</p> </div> <p>The Client ID for this client. It must exactly match the Client ID configured in the application consuming this client.</p> <h4 id="description"> <a href="#description" class="anchor-heading" aria-labelledby="description"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> description </h4> <div> <p class="label label-config label-purple">type: string</p> <p class="label label-config label-blue">default: <em>same as id</em></p> <p class="label label-config label-green">required: no</p> </div> <p>A friendly description for this client shown in the UI. This defaults to the same as the ID.</p> <h4 id="secret"> <a href="#secret" class="anchor-heading" aria-labelledby="secret"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> secret </h4> <div> <p class="label label-config label-purple">type: string</p> <p class="label label-config label-yellow">required: situational</p> </div> <p>The shared secret between Authelia and the application consuming this client. This secret must match the secret configured in the application. Currently this is stored in plain text. You must <a href="#generating-a-random-secret">generate this option yourself</a>.</p> <p>This must be provided when the client is a confidential client type, and must be blank when using the public client type. To set the client type to public see the <a href="#public">public</a> configuration option.</p> <h4 id="public"> <a href="#public" class="anchor-heading" aria-labelledby="public"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> public </h4> <div> <p class="label label-config label-purple">type: bool</p> <p class="label label-config label-blue">default: false</p> <p class="label label-config label-green">required: no</p> </div> <p>This enables the public client type for this client. This is for clients that are not capable of maintaining confidentiality of credentials, you can read more about client types in <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-2.1">RFC6749</a>. This is particularly useful for SPA’s and CLI tools. This option requires setting the <a href="#secret">client secret</a> to a blank string.</p> <p>In addition to the standard rules for redirect URIs, public clients can use the <code class="language-plaintext highlighter-rouge">urn:ietf:wg:oauth:2.0:oob</code> redirect URI.</p> <h4 id="authorization_policy"> <a href="#authorization_policy" class="anchor-heading" aria-labelledby="authorization_policy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> authorization_policy </h4> <div> <p class="label label-config label-purple">type: string</p> <p class="label label-config label-blue">default: two_factor</p> <p class="label label-config label-green">required: no</p> </div> <p>The authorization policy for this client: either <code class="language-plaintext highlighter-rouge">one_factor</code> or <code class="language-plaintext highlighter-rouge">two_factor</code>.</p> <h4 id="audience"> <a href="#audience" class="anchor-heading" aria-labelledby="audience"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> audience </h4> <div> <p class="label label-config label-purple">type: list(string)</p> <p class="label label-config label-green">required: no</p> </div> <p>A list of audiences this client is allowed to request.</p> <h4 id="scopes"> <a href="#scopes" class="anchor-heading" aria-labelledby="scopes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> scopes </h4> <div> <p class="label label-config label-purple">type: list(string)</p> <p class="label label-config label-blue">default: openid, groups, profile, email</p> <p class="label label-config label-green">required: no</p> </div> <p>A list of scopes to allow this client to consume. See <a href="#scope-definitions">scope definitions</a> for more information. The documentation for the application you want to use with Authelia will most-likely provide you with the scopes to allow.</p> <h4 id="redirect_uris"> <a href="#redirect_uris" class="anchor-heading" aria-labelledby="redirect_uris"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> redirect_uris </h4> <div> <p class="label label-config label-purple">type: list(string)</p> <p class="label label-config label-red">required: yes</p> </div> <p>A list of valid callback URIs this client will redirect to. All other callbacks will be considered unsafe. The URIs are case-sensitive and they differ from application to application - the community has provided <a href="/docs/community/oidc-integrations.html">a list of URL´s for common applications</a>.</p> <p>Some restrictions that have been placed on clients and their redirect URIs are as follows:</p> <ol> <li>If a client attempts to authorize with Authelia and its redirect URI is not listed in the client configuration the attempt to authorize wil fail and an error will be generated.</li> <li>The redirect URIs are case-sensitive.</li> <li>The URI must include a scheme and that scheme must be one of <code class="language-plaintext highlighter-rouge">http</code> or <code class="language-plaintext highlighter-rouge">https</code>.</li> <li>The client can ignore rule 3 and use <code class="language-plaintext highlighter-rouge">urn:ietf:wg:oauth:2.0:oob</code> if it is a <a href="#public">public</a> client type.</li> </ol> <h4 id="grant_types"> <a href="#grant_types" class="anchor-heading" aria-labelledby="grant_types"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> grant_types </h4> <div> <p class="label label-config label-purple">type: list(string)</p> <p class="label label-config label-blue">default: refresh_token, authorization_code</p> <p class="label label-config label-green">required: no</p> </div> <p>A list of grant types this client can return. <em>It is recommended that this isn’t configured at this time unless you know what you’re doing</em>. Valid options are: <code class="language-plaintext highlighter-rouge">implicit</code>, <code class="language-plaintext highlighter-rouge">refresh_token</code>, <code class="language-plaintext highlighter-rouge">authorization_code</code>, <code class="language-plaintext highlighter-rouge">password</code>, <code class="language-plaintext highlighter-rouge">client_credentials</code>.</p> <h4 id="response_types"> <a href="#response_types" class="anchor-heading" aria-labelledby="response_types"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> response_types </h4> <div> <p class="label label-config label-purple">type: list(string)</p> <p class="label label-config label-blue">default: code</p> <p class="label label-config label-green">required: no</p> </div> <p>A list of response types this client can return. <em>It is recommended that this isn’t configured at this time unless you know what you’re doing</em>. Valid options are: <code class="language-plaintext highlighter-rouge">code</code>, <code class="language-plaintext highlighter-rouge">code id_token</code>, <code class="language-plaintext highlighter-rouge">id_token</code>, <code class="language-plaintext highlighter-rouge">token id_token</code>, <code class="language-plaintext highlighter-rouge">token</code>, <code class="language-plaintext highlighter-rouge">token id_token code</code>.</p> <h4 id="response_modes"> <a href="#response_modes" class="anchor-heading" aria-labelledby="response_modes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> response_modes </h4> <div> <p class="label label-config label-purple">type: list(string)</p> <p class="label label-config label-blue">default: form_post, query, fragment</p> <p class="label label-config label-green">required: no</p> </div> <p>A list of response modes this client can return. It is recommended that this isn’t configured at this time unless you know what you’re doing. Potential values are <code class="language-plaintext highlighter-rouge">form_post</code>, <code class="language-plaintext highlighter-rouge">query</code>, and <code class="language-plaintext highlighter-rouge">fragment</code>.</p> <h4 id="userinfo_signing_algorithm"> <a href="#userinfo_signing_algorithm" class="anchor-heading" aria-labelledby="userinfo_signing_algorithm"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> userinfo_signing_algorithm </h4> <div> <p class="label label-config label-purple">type: string</p> <p class="label label-config label-blue">default: none</p> <p class="label label-config label-green">required: no</p> </div> <p>The algorithm used to sign the userinfo endpoint responses. This can either be <code class="language-plaintext highlighter-rouge">none</code> or <code class="language-plaintext highlighter-rouge">RS256</code>.</p> <h2 id="generating-a-random-secret"> <a href="#generating-a-random-secret" class="anchor-heading" aria-labelledby="generating-a-random-secret"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Generating a random secret </h2> <p>If you must provide a random secret in configuration, you can generate a random string of sufficient length. The command</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">LENGTH</span><span class="o">=</span>64
<span class="nb">tr</span> <span class="nt">-cd</span> <span class="s1">'[:alnum:]'</span> &lt; /dev/urandom | <span class="nb">fold</span> <span class="nt">-w</span> <span class="s2">"</span><span class="k">${</span><span class="nv">LENGTH</span><span class="k">}</span><span class="s2">"</span> | <span class="nb">head</span> <span class="nt">-n</span> 1 | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s1">'\n'</span> <span class="p">;</span> <span class="nb">echo</span>
</code></pre></div></div> <p>prints such a string with a length in characters of <code class="language-plaintext highlighter-rouge">${LENGTH}</code> on <code class="language-plaintext highlighter-rouge">stdout</code>. The string will only contain alphanumeric characters. For Kubernetes, see <a href="/docs/configuration/secrets.html#Kubernetes">this section too</a>.</p> <h2 id="scope-definitions"> <a href="#scope-definitions" class="anchor-heading" aria-labelledby="scope-definitions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Scope Definitions </h2> <h3 id="openid"> <a href="#openid" class="anchor-heading" aria-labelledby="openid"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> openid </h3> <p>This is the default scope for openid. This field is forced on every client by the configuration validation that Authelia does.</p> <p><em><strong>Important Note:</strong> The claim <code class="language-plaintext highlighter-rouge">sub</code> is planned to be changed in the future to a randomly unique value to identify the individual user. Please use the claim <code class="language-plaintext highlighter-rouge">preferred_username</code> instead.</em></p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: center">JWT Field</th> <th style="text-align: center">JWT Type</th> <th style="text-align: center">Authelia Attribute</th> <th style="text-align: center">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: center">sub</td> <td style="text-align: center">string</td> <td style="text-align: center">Username</td> <td style="text-align: center">The username the user used to login with</td> </tr> <tr> <td style="text-align: center">scope</td> <td style="text-align: center">string</td> <td style="text-align: center">scopes</td> <td style="text-align: center">Granted scopes (space delimited)</td> </tr> <tr> <td style="text-align: center">scp</td> <td style="text-align: center">array[string]</td> <td style="text-align: center">scopes</td> <td style="text-align: center">Granted scopes</td> </tr> <tr> <td style="text-align: center">iss</td> <td style="text-align: center">string</td> <td style="text-align: center">hostname</td> <td style="text-align: center">The issuer name, determined by URL</td> </tr> <tr> <td style="text-align: center">at_hash</td> <td style="text-align: center">string</td> <td style="text-align: center"><em>N/A</em></td> <td style="text-align: center">Access Token Hash</td> </tr> <tr> <td style="text-align: center">aud</td> <td style="text-align: center">array[string]</td> <td style="text-align: center"><em>N/A</em></td> <td style="text-align: center">Audience</td> </tr> <tr> <td style="text-align: center">exp</td> <td style="text-align: center">number</td> <td style="text-align: center"><em>N/A</em></td> <td style="text-align: center">Expires</td> </tr> <tr> <td style="text-align: center">auth_time</td> <td style="text-align: center">number</td> <td style="text-align: center"><em>N/A</em></td> <td style="text-align: center">The time the user authenticated with Authelia</td> </tr> <tr> <td style="text-align: center">rat</td> <td style="text-align: center">number</td> <td style="text-align: center"><em>N/A</em></td> <td style="text-align: center">The time when the token was requested</td> </tr> <tr> <td style="text-align: center">iat</td> <td style="text-align: center">number</td> <td style="text-align: center"><em>N/A</em></td> <td style="text-align: center">The time when the token was issued</td> </tr> <tr> <td style="text-align: center">jti</td> <td style="text-align: center">string(uuid)</td> <td style="text-align: center"><em>N/A</em></td> <td style="text-align: center">JWT Identifier</td> </tr> <tr> <td style="text-align: center">preferred_username</td> <td style="text-align: center">string</td> <td style="text-align: center">Username</td> <td style="text-align: center">The username the user used to login with</td> </tr> </tbody> </table></div> <h3 id="groups"> <a href="#groups" class="anchor-heading" aria-labelledby="groups"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> groups </h3> <p>This scope includes the groups the authentication backend reports the user is a member of in the token.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: center">JWT Field</th> <th style="text-align: center">JWT Type</th> <th style="text-align: center">Authelia Attribute</th> <th style="text-align: center">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: center">groups</td> <td style="text-align: center">array[string]</td> <td style="text-align: center">Groups</td> <td style="text-align: center">The users display name</td> </tr> </tbody> </table></div> <h3 id="email"> <a href="#email" class="anchor-heading" aria-labelledby="email"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> email </h3> <p>This scope includes the email information the authentication backend reports about the user in the token.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: center">JWT Field</th> <th style="text-align: center">JWT Type</th> <th style="text-align: center">Authelia Attribute</th> <th style="text-align: center">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: center">email</td> <td style="text-align: center">string</td> <td style="text-align: center">email[0]</td> <td style="text-align: center">The first email address in the list of emails</td> </tr> <tr> <td style="text-align: center">email_verified</td> <td style="text-align: center">bool</td> <td style="text-align: center"><em>N/A</em></td> <td style="text-align: center">If the email is verified, assumed true for the time being</td> </tr> <tr> <td style="text-align: center">alt_emails</td> <td style="text-align: center">array[string]</td> <td style="text-align: center">email[1:]</td> <td style="text-align: center">All email addresses that are not in the email JWT field</td> </tr> </tbody> </table></div> <h3 id="profile"> <a href="#profile" class="anchor-heading" aria-labelledby="profile"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> profile </h3> <p>This scope includes the profile information the authentication backend reports about the user in the token.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: center">JWT Field</th> <th style="text-align: center">JWT Type</th> <th style="text-align: center">Authelia Attribute</th> <th style="text-align: center">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: center">name</td> <td style="text-align: center">string</td> <td style="text-align: center">display_name</td> <td style="text-align: center">The users display name</td> </tr> </tbody> </table></div> <h2 id="endpoint-implementations"> <a href="#endpoint-implementations" class="anchor-heading" aria-labelledby="endpoint-implementations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Endpoint Implementations </h2> <p>This is a table of the endpoints we currently support and their paths. This can be requrired information for some RP’s, particularly those that don’t use <a href="https://openid.net/specs/openid-connect-discovery-1_0.html">discovery</a>. The paths are appended to the end of the primary URL used to access Authelia. For example in the Discovery example provided you access Authelia via https://auth.example.com, the discovery URL is https://auth.example.com/.well-known/openid-configuration.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: center">Endpoint</th> <th style="text-align: center">Path</th> </tr> </thead> <tbody> <tr> <td style="text-align: center">Discovery</td> <td style="text-align: center">.well-known/openid-configuration</td> </tr> <tr> <td style="text-align: center">JWKS</td> <td style="text-align: center">api/oidc/jwks</td> </tr> <tr> <td style="text-align: center">Authorization</td> <td style="text-align: center">api/oidc/authorize</td> </tr> <tr> <td style="text-align: center">Token</td> <td style="text-align: center">api/oidc/token</td> </tr> <tr> <td style="text-align: center">Introspection</td> <td style="text-align: center">api/oidc/introspect</td> </tr> <tr> <td style="text-align: center">Revocation</td> <td style="text-align: center">api/oidc/revoke</td> </tr> <tr> <td style="text-align: center">Userinfo</td> <td style="text-align: center">api/oidc/userinfo</td> </tr> </tbody> </table></div> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2021 Authelia. Distributed by an <a href="https://github.com/authelia/authelia/blob/master/LICENSE">Apache 2.0 license.</a> </p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
