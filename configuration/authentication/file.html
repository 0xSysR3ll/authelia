<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>File - Authelia</title> <link rel="shortcut icon" href="/docs/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/docs/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-124926127-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-124926127-1'); </script> <script type="text/javascript" src="/docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/docs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>File | Authelia</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="File" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Authelia is an open source multi-factor single sign-on portal for web applications" /> <meta property="og:description" content="Authelia is an open source multi-factor single sign-on portal for web applications" /> <meta property="og:site_name" content="Authelia" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="File" /> <script type="application/ld+json"> {"url":"/docs/configuration/authentication/file.html","headline":"File","@type":"WebPage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/docs/images/authelia-title.png"}},"description":"Authelia is an open source multi-factor single sign-on portal for web applications","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css" /> <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" /> </head> <body> <a class="github-fork-ribbon" href="https://github.com/authelia/authelia" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-contrib" viewBox="0 0 24 24"> <title>Survey contribution</title> <?xml version="1.0" encoding="iso-8859-1"?> <!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --> <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"> <path style="fill:#FEC9A3;" d="M507.661,503.322V399.907c0-11.325-5.528-21.938-14.805-28.438l-65.25-45.681 c-4.374-3.063-9.589-4.703-14.935-4.703h-52.536l0.868,148.48c0.321,15.473,10.431,29.028,25.166,33.757H507.661z"/> <path style="fill:#FABD91;" d="M455.593,503.322h-60.746c-19.17,0-34.712-15.542-34.712-34.712v-34.712h60.746L455.593,503.322z"/> <path style="fill:#88B337;" d="M229.966,60.746c-5.979,0.009-11.889,1.258-17.356,3.662V0H56.407 C27.648,0,4.339,23.309,4.339,52.068v156.203h64.408c-9.633-21.938,0.338-47.538,22.285-57.17 c21.938-9.633,47.538,0.338,57.17,22.285c4.886,11.116,4.886,23.778,0,34.894h64.408v-64.408 c21.938,9.633,47.538-0.338,57.17-22.285s-0.338-47.538-22.285-57.17C241.976,61.978,236.006,60.737,229.966,60.746z"/> <path style="fill:#E8594A;" d="M420.881,52.068C420.881,23.309,397.572,0,368.814,0H212.61v64.408 c21.938-9.633,47.538,0.338,57.17,22.285c9.633,21.938-0.338,47.538-22.285,57.17c-11.116,4.886-23.778,4.886-34.894,0v64.408 h64.408c-9.633,21.938,0.338,47.538,22.285,57.17c21.938,9.633,47.538-0.338,57.17-22.285c4.886-11.116,4.886-23.778,0-34.894 h64.417V52.068z"/> <path style="fill:#D65245;" d="M420.881,57.023C371.278,126.03,281.73,165.228,212.61,186.325v21.947h64.408 c-9.633,21.938,0.338,47.538,22.285,57.17c21.938,9.633,47.538-0.338,57.17-22.285c4.886-11.116,4.886-23.778,0-34.894h64.408 V57.023z"/> <path style="fill:#FDB62F;" d="M195.254,277.695c5.979,0.009,11.889,1.258,17.356,3.662v-73.086h-64.408 c9.633-21.938-0.338-47.538-22.285-57.17c-21.947-9.633-47.538,0.338-57.17,22.285c-4.886,11.116-4.886,23.778,0,34.894H4.339 v156.203c0,28.759,23.309,52.068,52.068,52.068H212.61v-55.73c-21.938,9.633-47.538-0.338-57.17-22.285 c-9.633-21.938,0.338-47.538,22.285-57.17C183.244,278.927,189.214,277.686,195.254,277.695z"/> <path style="fill:#FFA719;" d="M4.339,364.475c0,28.759,23.309,52.068,52.068,52.068H212.61v-55.73 c-21.834,9.615-47.33-0.286-56.945-22.12c-2.23-5.068-3.471-10.526-3.645-16.063c-46.523,20.749-96.751,31.918-147.682,32.846 V364.475z"/> <path style="fill:#4398D1;" d="M443.574,389.641l-54.906-146.658l-60.303,22.71c16.809,17.122,16.549,44.631-0.573,61.431 c-17.122,16.801-44.631,16.549-61.431-0.573c-8.556-8.721-13.052-20.636-12.375-32.837l-60.295,22.71l25.687,68.634 c-5.962-0.338-11.932,0.573-17.529,2.673c-22.407,8.695-33.514,33.905-24.819,56.311c8.548,22.016,33.098,33.202,55.322,25.183 c5.597-2.109,10.7-5.372,14.969-9.563L266.9,512l146.241-55.079C440.094,446.716,453.71,416.62,443.574,389.641z"/> <path style="fill:#3E8FC9;" d="M415.258,314.012c-59.878,89.557-172.127,120.832-237.872,131.601 c9.225,21.947,34.495,32.256,56.441,23.031c5.025-2.109,9.607-5.163,13.494-8.982L266.9,512l146.241-55.079 c26.945-10.205,40.552-40.283,30.434-67.254L415.258,314.012z"/> <path style="fill:#80A834;" d="M229.966,60.746c-5.979,0.009-11.889,1.258-17.356,3.662V51.816 C147.63,111.633,59.592,144.67,4.339,160.768v47.503h64.408c-9.633-21.938,0.338-47.538,22.285-57.17 c21.938-9.633,47.538,0.338,57.17,22.285c4.886,11.116,4.886,23.778,0,34.894h64.408v-64.408 c21.938,9.633,47.538-0.338,57.17-22.285s-0.338-47.538-22.285-57.17C241.976,61.978,236.006,60.737,229.966,60.746z"/> <path style="fill:#FEC9A3;" d="M403.682,390.665c-8.305-8.47-21.903-8.609-30.373-0.304c-8.47,8.305-8.609,21.903-0.304,30.373 c0.104,0.104,0.2,0.208,0.304,0.304l30.217,30.217c0,28.759,23.309,52.068,52.068,52.068l0,0h52.068v-8.678L403.682,390.665z"/> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/docs/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/" class="nav-list-link">Home</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/home/architecture.html" class="nav-list-link">Architecture</a></li><li class="nav-list-item "><a href="/docs/home/supported-proxies.html" class="nav-list-link">Supported Proxies</a></li></ul></li><li class="nav-list-item"><a href="/docs/getting-started.html" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/features/" class="nav-list-link">Features</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/features/first-factor.html" class="nav-list-link">First Factor</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/features/2fa/" class="nav-list-link">Second Factor</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/features/2fa/one-time-password.html" class="nav-list-link">Time-based One-Time Password</a> </li><li class="nav-list-item "> <a href="/docs/features/2fa/security-key.html" class="nav-list-link">Security Keys</a> </li><li class="nav-list-item "> <a href="/docs/features/2fa/push-notifications.html" class="nav-list-link">Push Notification</a> </li></ul></li><li class="nav-list-item "><a href="/docs/features/single-factor.html" class="nav-list-link">Single Factor</a></li><li class="nav-list-item "><a href="/docs/features/password-reset.html" class="nav-list-link">Password Reset</a></li><li class="nav-list-item "><a href="/docs/features/access-control.html" class="nav-list-link">Access Control</a></li><li class="nav-list-item "><a href="/docs/features/regulation.html" class="nav-list-link">Regulation</a></li><li class="nav-list-item "><a href="/docs/features/statelessness.html" class="nav-list-link">Statelessness</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/" class="nav-list-link">Configuration</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/configuration/access-control.html" class="nav-list-link">Access Control</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/authentication/" class="nav-list-link">Authentication Backends</a><ul class="nav-list"><li class="nav-list-item active"> <a href="/docs/configuration/authentication/file.html" class="nav-list-link active">File</a> </li><li class="nav-list-item "> <a href="/docs/configuration/authentication/ldap.html" class="nav-list-link">LDAP</a> </li></ul></li><li class="nav-list-item "><a href="/docs/configuration/duo-push-notifications.html" class="nav-list-link">Duo Push Notifications</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/identity-providers/" class="nav-list-link">Identity Providers</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/configuration/identity-providers/oidc.html" class="nav-list-link">OpenID Connect</a> </li></ul></li><li class="nav-list-item "><a href="/docs/configuration/logging.html" class="nav-list-link">Logging</a></li><li class="nav-list-item "><a href="/docs/configuration/migration.html" class="nav-list-link">Migration</a></li><li class="nav-list-item "><a href="/docs/configuration/miscellaneous.html" class="nav-list-link">Miscellaneous</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/notifier/" class="nav-list-link">Notifier</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/configuration/notifier/filesystem.html" class="nav-list-link">Filesystem</a> </li><li class="nav-list-item "> <a href="/docs/configuration/notifier/smtp.html" class="nav-list-link">SMTP</a> </li></ul></li><li class="nav-list-item "><a href="/docs/configuration/ntp.html" class="nav-list-link">NTP</a></li><li class="nav-list-item "><a href="/docs/configuration/regulation.html" class="nav-list-link">Regulation</a></li><li class="nav-list-item "><a href="/docs/configuration/secrets.html" class="nav-list-link">Secrets</a></li><li class="nav-list-item "><a href="/docs/configuration/server.html" class="nav-list-link">Server</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/session/" class="nav-list-link">Session</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/configuration/session/redis.html" class="nav-list-link">Redis</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/storage/" class="nav-list-link">Storage Backends</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/configuration/storage/mariadb.html" class="nav-list-link">MariaDB</a> </li><li class="nav-list-item "> <a href="/docs/configuration/storage/mysql.html" class="nav-list-link">MySQL</a> </li><li class="nav-list-item "> <a href="/docs/configuration/storage/postgres.html" class="nav-list-link">PostgreSQL</a> </li><li class="nav-list-item "> <a href="/docs/configuration/storage/sqlite.html" class="nav-list-link">SQLite</a> </li><li class="nav-list-item "> <a href="/docs/configuration/storage/migrations.html" class="nav-list-link">Migrations</a> </li></ul></li><li class="nav-list-item "><a href="/docs/configuration/theme.html" class="nav-list-link">Theme</a></li><li class="nav-list-item "><a href="/docs/configuration/one-time-password.html" class="nav-list-link">Time-based One-Time Password</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/deployment/" class="nav-list-link">Deployment</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/deployment/deployment-lite.html" class="nav-list-link">Deployment - Lite</a></li><li class="nav-list-item "><a href="/docs/deployment/deployment-ha.html" class="nav-list-link">Deployment - Highly-Available</a></li><li class="nav-list-item "><a href="/docs/deployment/deployment-kubernetes.html" class="nav-list-link">Deployment - Kubernetes</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/deployment/supported-proxies/" class="nav-list-link">Proxy Integration</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/deployment/supported-proxies/haproxy.html" class="nav-list-link">HAProxy</a> </li><li class="nav-list-item "> <a href="/docs/deployment/supported-proxies/nginx.html" class="nav-list-link">NGINX</a> </li><li class="nav-list-item "> <a href="/docs/deployment/supported-proxies/traefik2.x.html" class="nav-list-link">Traefik 2.x</a> </li><li class="nav-list-item "> <a href="/docs/deployment/supported-proxies/traefik1.x.html" class="nav-list-link">Traefik 1.x</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/security/" class="nav-list-link">Security</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/security/measures.html" class="nav-list-link">Security Measures</a></li><li class="nav-list-item "><a href="/docs/security/threat-model.html" class="nav-list-link">Threat Model</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/contributing/" class="nav-list-link">Contributing</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/contributing/build-and-dev.html" class="nav-list-link">Build & Dev</a></li><li class="nav-list-item "><a href="/docs/contributing/authelia-scripts.html" class="nav-list-link">Authelia Scripts</a></li><li class="nav-list-item "><a href="/docs/contributing/commitmsg-guidelines.html" class="nav-list-link">Commit Message Guidelines</a></li><li class="nav-list-item "><a href="/docs/contributing/style-guide.html" class="nav-list-link">Style Guide</a></li><li class="nav-list-item "><a href="/docs/contributing/suites.html" class="nav-list-link">Suites</a></li></ul></li><li class="nav-list-item"><a href="/docs/faq.html" class="nav-list-link">FAQ</a></li><li class="nav-list-item"><a href="/docs/roadmap.html" class="nav-list-link">Roadmap</a></li><li class="nav-list-item"><a href="/docs/about-us.html" class="nav-list-link">About Us</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/community/" class="nav-list-link">Community</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/community/two-factor-basic-auth.html" class="nav-list-link">2FA through basic auth</a></li><li class="nav-list-item "><a href="/docs/community/using-remote-user-header-for-sso-with-jira.html" class="nav-list-link">Using Remote-User header for SSO with Jira</a></li><li class="nav-list-item "><a href="/docs/community/additional-resources.html" class="nav-list-link">Miscellaneous Additional Resources</a></li><li class="nav-list-item "><a href="/docs/community/example-of-authelia-lite-on-docker-swarm.html" class="nav-list-link">Example of authelia lite on docker swarm</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/community/oidc-integrations.html" class="nav-list-link">Community-Tested OIDC Integrations</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/community/oidc-integrations/portainer.html" class="nav-list-link">Portainer</a> </li><li class="nav-list-item "> <a href="/docs/community/oidc-integrations/proxmox.html" class="nav-list-link">Proxmox</a> </li></ul></li><li class="nav-list-item "><a href="/docs/community/django-integration.html" class="nav-list-link">Integrate Authelia with Django</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Authelia" aria-label="Search Authelia" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="">Configuration</a></li> <li class="breadcrumb-nav-list-item"><a href="">Authentication Backends</a></li> <li class="breadcrumb-nav-list-item"><span>File</span></li> </ol> </nav> <div id="survey-wrapper" style="border: 1px solid #d6d6d6; border-radius: 5px; background-color: #f1f1f1; padding: 20px; display: flex; flex-direction: row; align-items: center;"> <svg viewBox="0 0 24 24" width="32px" height="32px" class="contrib-icon" style="display: inline-block"><use xlink:href="#svg-contrib"></use></svg> <span style="margin-left: 10px">Help the team improve <b>Authelia</b> by taking this <a href="https://forms.gle/aVw6J9jcez97EAhD6" target="_blank">10-second survey</a>.</span> </div> <div id="main-content" class="main-content" role="main"> <h1 id="file"> <a href="#file" class="anchor-heading" aria-labelledby="file"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> File </h1> <p><strong>Authelia</strong> supports a file as a users database.</p> <h2 id="configuration"> <a href="#configuration" class="anchor-heading" aria-labelledby="configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration </h2> <p>Configuring Authelia to use a file is done by specifying the path to the file in the configuration file.</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">authentication_backend</span><span class="pi">:</span>
  <span class="na">disable_reset_password</span><span class="pi">:</span> <span class="no">false</span>
  <span class="na">file</span><span class="pi">:</span>
    <span class="na">path</span><span class="pi">:</span> <span class="s">/config/users.yml</span>
    <span class="na">password</span><span class="pi">:</span>
      <span class="na">algorithm</span><span class="pi">:</span> <span class="s">argon2id</span>
      <span class="na">iterations</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">salt_length</span><span class="pi">:</span> <span class="m">16</span>
      <span class="na">parallelism</span><span class="pi">:</span> <span class="m">8</span>
      <span class="na">memory</span><span class="pi">:</span> <span class="m">64</span>
</code></pre></div></div> <h2 id="format"> <a href="#format" class="anchor-heading" aria-labelledby="format"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Format </h2> <p>The format of the users file is as follows.</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">users</span><span class="pi">:</span>
  <span class="na">john</span><span class="pi">:</span>
    <span class="na">displayname</span><span class="pi">:</span> <span class="s2">"</span><span class="s">John</span><span class="nv"> </span><span class="s">Doe"</span>
    <span class="na">password</span><span class="pi">:</span> <span class="s2">"</span><span class="s">$argon2id$v=19$m=65536,t=3,p=2$BpLnfgDsc2WD8F2q$o/vzA4myCqZZ36bUGsDY//8mKUYNZZaR0t4MFFSs+iM"</span>
    <span class="na">email</span><span class="pi">:</span> <span class="s">john.doe@authelia.com</span>
    <span class="na">groups</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">admins</span>
      <span class="pi">-</span> <span class="s">dev</span>
  <span class="na">harry</span><span class="pi">:</span>
    <span class="na">displayname</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Harry</span><span class="nv"> </span><span class="s">Potter"</span>
    <span class="na">password</span><span class="pi">:</span> <span class="s2">"</span><span class="s">$argon2id$v=19$m=65536,t=3,p=2$BpLnfgDsc2WD8F2q$o/vzA4myCqZZ36bUGsDY//8mKUYNZZaR0t4MFFSs+iM"</span>
    <span class="na">email</span><span class="pi">:</span> <span class="s">harry.potter@authelia.com</span>
    <span class="na">groups</span><span class="pi">:</span> <span class="pi">[]</span>
  <span class="na">bob</span><span class="pi">:</span>
    <span class="na">displayname</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Bob</span><span class="nv"> </span><span class="s">Dylan"</span>
    <span class="na">password</span><span class="pi">:</span> <span class="s2">"</span><span class="s">$argon2id$v=19$m=65536,t=3,p=2$BpLnfgDsc2WD8F2q$o/vzA4myCqZZ36bUGsDY//8mKUYNZZaR0t4MFFSs+iM"</span>
    <span class="na">email</span><span class="pi">:</span> <span class="s">bob.dylan@authelia.com</span>
    <span class="na">groups</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">dev</span>
  <span class="na">james</span><span class="pi">:</span>
    <span class="na">displayname</span><span class="pi">:</span> <span class="s2">"</span><span class="s">James</span><span class="nv"> </span><span class="s">Dean"</span>
    <span class="na">password</span><span class="pi">:</span> <span class="s2">"</span><span class="s">$argon2id$v=19$m=65536,t=3,p=2$BpLnfgDsc2WD8F2q$o/vzA4myCqZZ36bUGsDY//8mKUYNZZaR0t4MFFSs+iM"</span>
    <span class="na">email</span><span class="pi">:</span> <span class="s">james.dean@authelia.com</span>
</code></pre></div></div> <p>This file should be set with read/write permissions as it could be updated by users resetting their passwords.</p> <h2 id="options"> <a href="#options" class="anchor-heading" aria-labelledby="options"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Options </h2> <h3 id="path"> <a href="#path" class="anchor-heading" aria-labelledby="path"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> path </h3> <div> <p class="label label-config label-purple">type: string (path)</p> <p class="label label-config label-red">required: yes</p> </div> <h3 id="password"> <a href="#password" class="anchor-heading" aria-labelledby="password"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> password </h3> <h4 id="algorithm"> <a href="#algorithm" class="anchor-heading" aria-labelledby="algorithm"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> algorithm </h4> <div> <p class="label label-config label-purple">type: string</p> <p class="label label-config label-blue">default: argon2id</p> <p class="label label-config label-green">required: no</p> </div> <p>Controls the hashing algorithm used for hashing new passwords. Value must be one of <code class="language-plaintext highlighter-rouge">argon2id</code> or `sha512.</p> <h4 id="iterations"> <a href="#iterations" class="anchor-heading" aria-labelledby="iterations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> iterations </h4> <div> <p class="label label-config label-purple">type: integer</p> <p class="label label-config label-green">required: no</p> </div> <p>Controls the number of hashing iterations done by the other hashing settings.</p> <p>When using <code class="language-plaintext highlighter-rouge">argon2id</code> the minimum is 1, which is also the recommended value.</p> <p>When using <code class="language-plaintext highlighter-rouge">sha512</code> the minimum is 1000, and 50000 is the recommended value.</p> <h4 id="salt_length"> <a href="#salt_length" class="anchor-heading" aria-labelledby="salt_length"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> salt_length </h4> <div> <p class="label label-config label-purple">type: integer</p> <p class="label label-config label-blue">default: 16</p> <p class="label label-config label-green">required: no</p> </div> <p>Controls the length of the random salt added to each password before hashing. It’s recommended this value is set to 16, and there is no documented reason why you’d set it to anything other than this, however the minimum is 8.</p> <h4 id="parallelism"> <a href="#parallelism" class="anchor-heading" aria-labelledby="parallelism"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> parallelism </h4> <div> <p class="label label-config label-purple">type: integer</p> <p class="label label-config label-blue">default: 8</p> <p class="label label-config label-green">required: no</p> </div> <p>This setting is specific to <code class="language-plaintext highlighter-rouge">argon2id</code> and unused with <code class="language-plaintext highlighter-rouge">sha512</code>. Sets the number of threads used when hashing passwords, which affects the effective cost of hashing.</p> <h4 id="memory"> <a href="#memory" class="anchor-heading" aria-labelledby="memory"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> memory </h4> <p>This setting is specific to <code class="language-plaintext highlighter-rouge">argon2id</code> and unused with <code class="language-plaintext highlighter-rouge">sha512</code>. Sets the amount of memory allocated to a single password hashing action. This memory is released by go after the hashing process completes, however the operating system may not reclaim it until it needs the memory which may make Authelia appear to be using more memory than it technically is.</p> <h2 id="passwords"> <a href="#passwords" class="anchor-heading" aria-labelledby="passwords"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Passwords </h2> <p>The file contains hashed passwords instead of plain text passwords for security reasons.</p> <p>You can use Authelia binary or docker image to generate the hash of any password. The hash-password command has many tunable options, you can view them with the <code class="language-plaintext highlighter-rouge">authelia hash-password --help</code> command. For example if you wanted to improve the entropy you could generate a 16 byte salt and provide it with the <code class="language-plaintext highlighter-rouge">--salt</code> flag. Example: <code class="language-plaintext highlighter-rouge">authelia hash-password --salt abcdefghijklhijl</code>. For argon2id the salt must always be valid for base64 decoding (characters a through z, A through Z, 0 through 9, and +/).</p> <p>Passwords passed to <code class="language-plaintext highlighter-rouge">hash-password</code> should be single quoted if using special characters to prevent parameter substitution. For instance to generate a hash with the docker image just run:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker run authelia/authelia:latest authelia hash-password 'yourpassword'
Password hash: $argon2id$v=19$m=65536$3oc26byQuSkQqksq$zM1QiTvVPrMfV6BVLs2t4gM+af5IN7euO0VB6+Q8ZFs
</code></pre></div></div> <p>You may also use the <code class="language-plaintext highlighter-rouge">--config</code> flag to point to your existing configuration. When used, the values defined in the config will be used instead.</p> <p>Full CLI Help Documentation:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Hash a password to be used in file-based users database. Default algorithm is argon2id.

Usage:
  authelia hash-password [password] [flags]

Flags:
  -h, --help              help for hash-password
  -i, --iterations int    set the number of hashing iterations (default 1)
  -k, --key-length int    [argon2id] set the key length param (default 32)
  -m, --memory int        [argon2id] set the amount of memory param (in MB) (default 64)
  -p, --parallelism int   [argon2id] set the parallelism param (default 8)
  -s, --salt string       set the salt string
  -l, --salt-length int   set the auto-generated salt length (default 16)
  -z, --sha512            use sha512 as the algorithm (defaults iterations to 50000, change with -i)
</code></pre></div></div> <h3 id="password-hash-algorithm"> <a href="#password-hash-algorithm" class="anchor-heading" aria-labelledby="password-hash-algorithm"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Password hash algorithm </h3> <p>The default hash algorithm is Argon2id version 19 with a salt. Argon2id is currently considered the best hashing algorithm, and in 2015 won the <a href="https://en.wikipedia.org/wiki/Password_Hashing_Competition">Password Hashing Competition</a>. It benefits from customizable parameters allowing the cost of computing a hash to scale into the future which makes it harder to brute-force. Argon2id was implemented due to community feedback as you can see in this closed <a href="https://github.com/authelia/authelia/issues/577">issue</a>.</p> <p>For backwards compatibility and user choice support for the SHA512 algorithm is still available. While it’s a reasonable hashing function given high enough iterations, as hardware improves it has a higher chance of being brute-forced.</p> <p>Hashes are identifiable as argon2id or SHA512 by their prefix of either <code class="language-plaintext highlighter-rouge">$argon2id$</code> and <code class="language-plaintext highlighter-rouge">$6$</code> respectively, as described in this <a href="https://en.wikipedia.org/wiki/Crypt_(C)">wiki page</a>.</p> <p><strong>Important Note:</strong> When using argon2id Authelia will appear to remain using the memory allocated to creating the hash. This is due to how <a href="https://golang.org/">Go</a> allocates memory to the heap when generating an argon2id hash. Go periodically garbage collects the heap, however this doesn’t remove the memory allocation, it keeps it allocated even though it’s technically unused. Under memory pressure the unused allocated memory will be reclaimed by the operating system, you can test this on linux with:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ stress-ng --vm-bytes $(awk '/MemFree/{printf "%d\n", $2 * 0.9;}' &lt; /proc/meminfo)k --vm-keep -m 1
</code></pre></div></div> <p>If this is not desirable we recommend investigating the following options in order of most to least secure:</p> <ol> <li>using the <a href="/docs/configuration/authentication/ldap.html">LDAP authentication provider</a></li> <li>adjusting the <a href="#memory">memory</a> parameter</li> <li>changing the <a href="#algorithm">algorithm</a></li> </ol> <h3 id="password-hash-algorithm-tuning"> <a href="#password-hash-algorithm-tuning" class="anchor-heading" aria-labelledby="password-hash-algorithm-tuning"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Password hash algorithm tuning </h3> <p>All algorithm tuning for Argon2id is supported. The only configuration variables that affect SHA512 are iterations and salt length. The configuration variables are unique to the file authentication provider, thus they all exist in a key under the file authentication configuration key called <code class="language-plaintext highlighter-rouge">password</code>. We have set what are considered as sane and recommended defaults to cater for a reasonable system, if you’re unsure about which settings to tune, please see the parameters below, or for a more in depth understanding see the referenced documentation in <a href="/docs/configuration/authentication/file.html#argon2-links">Argon2 links</a>.</p> <h4 id="examples-for-specific-systems"> <a href="#examples-for-specific-systems" class="anchor-heading" aria-labelledby="examples-for-specific-systems"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Examples for specific systems </h4> <p>These examples have been tested against a single system to make sure they roughly take 0.5 seconds each. Your results may vary depending on individual specification and utilization, but they are a good guide to get started. You should however read the linked documents in <a href="/docs/configuration/authentication/file.html#argon2-links">Argon2 links</a>.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: center">System</th> <th style="text-align: center">Iterations</th> <th style="text-align: center">Parallelism</th> <th style="text-align: center">Memory</th> </tr> </thead> <tbody> <tr> <td style="text-align: center">Raspberry Pi 2</td> <td style="text-align: center">1</td> <td style="text-align: center">8</td> <td style="text-align: center">64</td> </tr> <tr> <td style="text-align: center">Raspberry Pi 3</td> <td style="text-align: center">1</td> <td style="text-align: center">8</td> <td style="text-align: center">128</td> </tr> <tr> <td style="text-align: center">Raspberry Pi 4</td> <td style="text-align: center">1</td> <td style="text-align: center">8</td> <td style="text-align: center">128</td> </tr> <tr> <td style="text-align: center">Intel G5 i5 NUC</td> <td style="text-align: center">1</td> <td style="text-align: center">8</td> <td style="text-align: center">1024</td> </tr> </tbody> </table></div> <h2 id="argon2-links"> <a href="#argon2-links" class="anchor-heading" aria-labelledby="argon2-links"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Argon2 Links </h2> <p><a href="https://www.twelve21.io/how-to-choose-the-right-parameters-for-argon2/">How to choose the right parameters for Argon2</a></p> <p><a href="https://godoc.org/golang.org/x/crypto/argon2">Go Documentation</a></p> <p><a href="https://tools.ietf.org/id/draft-irtf-cfrg-argon2-09.html">IETF Draft</a></p> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2021 Authelia. Distributed by an <a href="https://github.com/authelia/authelia/blob/master/LICENSE">Apache 2.0 license.</a> </p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
