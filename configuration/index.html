<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Configuration - Authelia</title> <link rel="shortcut icon" href="/docs/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/docs/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-124926127-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-124926127-1'); </script> <script type="text/javascript" src="/docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/docs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Configuration | Authelia</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Configuration" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Authelia is an open source multi-factor single sign-on portal for web applications" /> <meta property="og:description" content="Authelia is an open source multi-factor single sign-on portal for web applications" /> <meta property="og:site_name" content="Authelia" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Configuration" /> <script type="application/ld+json"> {"headline":"Configuration","url":"/docs/configuration/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/docs/images/authelia-title.png"}},"@type":"WebPage","description":"Authelia is an open source multi-factor single sign-on portal for web applications","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css" /> <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" /> </head> <body> <a class="github-fork-ribbon" href="https://github.com/authelia/authelia" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-contrib" viewBox="0 0 24 24"> <title>Survey contribution</title> <?xml version="1.0" encoding="iso-8859-1"?> <!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --> <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"> <path style="fill:#FEC9A3;" d="M507.661,503.322V399.907c0-11.325-5.528-21.938-14.805-28.438l-65.25-45.681 c-4.374-3.063-9.589-4.703-14.935-4.703h-52.536l0.868,148.48c0.321,15.473,10.431,29.028,25.166,33.757H507.661z"/> <path style="fill:#FABD91;" d="M455.593,503.322h-60.746c-19.17,0-34.712-15.542-34.712-34.712v-34.712h60.746L455.593,503.322z"/> <path style="fill:#88B337;" d="M229.966,60.746c-5.979,0.009-11.889,1.258-17.356,3.662V0H56.407 C27.648,0,4.339,23.309,4.339,52.068v156.203h64.408c-9.633-21.938,0.338-47.538,22.285-57.17 c21.938-9.633,47.538,0.338,57.17,22.285c4.886,11.116,4.886,23.778,0,34.894h64.408v-64.408 c21.938,9.633,47.538-0.338,57.17-22.285s-0.338-47.538-22.285-57.17C241.976,61.978,236.006,60.737,229.966,60.746z"/> <path style="fill:#E8594A;" d="M420.881,52.068C420.881,23.309,397.572,0,368.814,0H212.61v64.408 c21.938-9.633,47.538,0.338,57.17,22.285c9.633,21.938-0.338,47.538-22.285,57.17c-11.116,4.886-23.778,4.886-34.894,0v64.408 h64.408c-9.633,21.938,0.338,47.538,22.285,57.17c21.938,9.633,47.538-0.338,57.17-22.285c4.886-11.116,4.886-23.778,0-34.894 h64.417V52.068z"/> <path style="fill:#D65245;" d="M420.881,57.023C371.278,126.03,281.73,165.228,212.61,186.325v21.947h64.408 c-9.633,21.938,0.338,47.538,22.285,57.17c21.938,9.633,47.538-0.338,57.17-22.285c4.886-11.116,4.886-23.778,0-34.894h64.408 V57.023z"/> <path style="fill:#FDB62F;" d="M195.254,277.695c5.979,0.009,11.889,1.258,17.356,3.662v-73.086h-64.408 c9.633-21.938-0.338-47.538-22.285-57.17c-21.947-9.633-47.538,0.338-57.17,22.285c-4.886,11.116-4.886,23.778,0,34.894H4.339 v156.203c0,28.759,23.309,52.068,52.068,52.068H212.61v-55.73c-21.938,9.633-47.538-0.338-57.17-22.285 c-9.633-21.938,0.338-47.538,22.285-57.17C183.244,278.927,189.214,277.686,195.254,277.695z"/> <path style="fill:#FFA719;" d="M4.339,364.475c0,28.759,23.309,52.068,52.068,52.068H212.61v-55.73 c-21.834,9.615-47.33-0.286-56.945-22.12c-2.23-5.068-3.471-10.526-3.645-16.063c-46.523,20.749-96.751,31.918-147.682,32.846 V364.475z"/> <path style="fill:#4398D1;" d="M443.574,389.641l-54.906-146.658l-60.303,22.71c16.809,17.122,16.549,44.631-0.573,61.431 c-17.122,16.801-44.631,16.549-61.431-0.573c-8.556-8.721-13.052-20.636-12.375-32.837l-60.295,22.71l25.687,68.634 c-5.962-0.338-11.932,0.573-17.529,2.673c-22.407,8.695-33.514,33.905-24.819,56.311c8.548,22.016,33.098,33.202,55.322,25.183 c5.597-2.109,10.7-5.372,14.969-9.563L266.9,512l146.241-55.079C440.094,446.716,453.71,416.62,443.574,389.641z"/> <path style="fill:#3E8FC9;" d="M415.258,314.012c-59.878,89.557-172.127,120.832-237.872,131.601 c9.225,21.947,34.495,32.256,56.441,23.031c5.025-2.109,9.607-5.163,13.494-8.982L266.9,512l146.241-55.079 c26.945-10.205,40.552-40.283,30.434-67.254L415.258,314.012z"/> <path style="fill:#80A834;" d="M229.966,60.746c-5.979,0.009-11.889,1.258-17.356,3.662V51.816 C147.63,111.633,59.592,144.67,4.339,160.768v47.503h64.408c-9.633-21.938,0.338-47.538,22.285-57.17 c21.938-9.633,47.538,0.338,57.17,22.285c4.886,11.116,4.886,23.778,0,34.894h64.408v-64.408 c21.938,9.633,47.538-0.338,57.17-22.285s-0.338-47.538-22.285-57.17C241.976,61.978,236.006,60.737,229.966,60.746z"/> <path style="fill:#FEC9A3;" d="M403.682,390.665c-8.305-8.47-21.903-8.609-30.373-0.304c-8.47,8.305-8.609,21.903-0.304,30.373 c0.104,0.104,0.2,0.208,0.304,0.304l30.217,30.217c0,28.759,23.309,52.068,52.068,52.068l0,0h52.068v-8.678L403.682,390.665z"/> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/docs/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/" class="nav-list-link">Home</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/home/architecture.html" class="nav-list-link">Architecture</a></li><li class="nav-list-item "><a href="/docs/home/supported-proxies.html" class="nav-list-link">Supported Proxies</a></li></ul></li><li class="nav-list-item"><a href="/docs/getting-started.html" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/features/" class="nav-list-link">Features</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/features/first-factor.html" class="nav-list-link">First Factor</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/features/2fa/" class="nav-list-link">Second Factor</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/features/2fa/one-time-password.html" class="nav-list-link">Time-based One-Time Password</a> </li><li class="nav-list-item "> <a href="/docs/features/2fa/security-key.html" class="nav-list-link">Security Keys</a> </li><li class="nav-list-item "> <a href="/docs/features/2fa/push-notifications.html" class="nav-list-link">Push Notification</a> </li></ul></li><li class="nav-list-item "><a href="/docs/features/single-factor.html" class="nav-list-link">Single Factor</a></li><li class="nav-list-item "><a href="/docs/features/password-reset.html" class="nav-list-link">Password Reset</a></li><li class="nav-list-item "><a href="/docs/features/access-control.html" class="nav-list-link">Access Control</a></li><li class="nav-list-item "><a href="/docs/features/regulation.html" class="nav-list-link">Regulation</a></li><li class="nav-list-item "><a href="/docs/features/statelessness.html" class="nav-list-link">Statelessness</a></li><li class="nav-list-item "><a href="/docs/features/logout.html" class="nav-list-link">Logout</a></li><li class="nav-list-item "><a href="/docs/features/password-policy.html" class="nav-list-link">Password Policy</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/" class="nav-list-link active">Configuration</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/configuration/access-control.html" class="nav-list-link">Access Control</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/authentication/" class="nav-list-link">Authentication Backends</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/configuration/authentication/file.html" class="nav-list-link">File</a> </li><li class="nav-list-item "> <a href="/docs/configuration/authentication/ldap.html" class="nav-list-link">LDAP</a> </li></ul></li><li class="nav-list-item "><a href="/docs/configuration/duo-push-notifications.html" class="nav-list-link">Duo Push Notifications</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/identity-providers/" class="nav-list-link">Identity Providers</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/configuration/identity-providers/oidc.html" class="nav-list-link">OpenID Connect</a> </li></ul></li><li class="nav-list-item "><a href="/docs/configuration/logging.html" class="nav-list-link">Logging</a></li><li class="nav-list-item "><a href="/docs/configuration/migration.html" class="nav-list-link">Migration</a></li><li class="nav-list-item "><a href="/docs/configuration/miscellaneous.html" class="nav-list-link">Miscellaneous</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/notifier/" class="nav-list-link">Notifier</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/configuration/notifier/filesystem.html" class="nav-list-link">Filesystem</a> </li><li class="nav-list-item "> <a href="/docs/configuration/notifier/smtp.html" class="nav-list-link">SMTP</a> </li></ul></li><li class="nav-list-item "><a href="/docs/configuration/ntp.html" class="nav-list-link">NTP</a></li><li class="nav-list-item "><a href="/docs/configuration/regulation.html" class="nav-list-link">Regulation</a></li><li class="nav-list-item "><a href="/docs/configuration/secrets.html" class="nav-list-link">Secrets</a></li><li class="nav-list-item "><a href="/docs/configuration/server.html" class="nav-list-link">Server</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/session/" class="nav-list-link">Session</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/configuration/session/redis.html" class="nav-list-link">Redis</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/configuration/storage/" class="nav-list-link">Storage Backends</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/configuration/storage/mariadb.html" class="nav-list-link">MariaDB</a> </li><li class="nav-list-item "> <a href="/docs/configuration/storage/mysql.html" class="nav-list-link">MySQL</a> </li><li class="nav-list-item "> <a href="/docs/configuration/storage/postgres.html" class="nav-list-link">PostgreSQL</a> </li><li class="nav-list-item "> <a href="/docs/configuration/storage/sqlite.html" class="nav-list-link">SQLite</a> </li><li class="nav-list-item "> <a href="/docs/configuration/storage/migrations.html" class="nav-list-link">Migrations</a> </li></ul></li><li class="nav-list-item "><a href="/docs/configuration/theme.html" class="nav-list-link">Theme</a></li><li class="nav-list-item "><a href="/docs/configuration/one-time-password.html" class="nav-list-link">Time-based One-Time Password</a></li><li class="nav-list-item "><a href="/docs/configuration/webauthn.html" class="nav-list-link">Webauthn</a></li><li class="nav-list-item "><a href="/docs/configuration/password_policy.html" class="nav-list-link">Password Policy</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/deployment/" class="nav-list-link">Deployment</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/deployment/deployment-lite.html" class="nav-list-link">Deployment - Lite</a></li><li class="nav-list-item "><a href="/docs/deployment/deployment-ha.html" class="nav-list-link">Deployment - Highly-Available</a></li><li class="nav-list-item "><a href="/docs/deployment/deployment-kubernetes.html" class="nav-list-link">Deployment - Kubernetes</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/deployment/supported-proxies/" class="nav-list-link">Proxy Integration</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/deployment/supported-proxies/caddy.html" class="nav-list-link">Caddy</a> </li><li class="nav-list-item "> <a href="/docs/deployment/supported-proxies/haproxy.html" class="nav-list-link">HAProxy</a> </li><li class="nav-list-item "> <a href="/docs/deployment/supported-proxies/nginx.html" class="nav-list-link">NGINX</a> </li><li class="nav-list-item "> <a href="/docs/deployment/supported-proxies/traefik1.x.html" class="nav-list-link">Traefik 1.x</a> </li><li class="nav-list-item "> <a href="/docs/deployment/supported-proxies/traefik2.x.html" class="nav-list-link">Traefik 2.x</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/security/" class="nav-list-link">Security</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/security/measures.html" class="nav-list-link">Security Measures</a></li><li class="nav-list-item "><a href="/docs/security/threat-model.html" class="nav-list-link">Threat Model</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/contributing/" class="nav-list-link">Contributing</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/contributing/build-and-dev.html" class="nav-list-link">Build & Dev</a></li><li class="nav-list-item "><a href="/docs/contributing/authelia-scripts.html" class="nav-list-link">Authelia Scripts</a></li><li class="nav-list-item "><a href="/docs/contributing/commitmsg-guidelines.html" class="nav-list-link">Commit Message Guidelines</a></li><li class="nav-list-item "><a href="/docs/contributing/style-guide.html" class="nav-list-link">Style Guide</a></li><li class="nav-list-item "><a href="/docs/contributing/suites.html" class="nav-list-link">Suites</a></li><li class="nav-list-item "><a href="/docs/contributing/translations.html" class="nav-list-link">Translations</a></li></ul></li><li class="nav-list-item"><a href="/docs/faq.html" class="nav-list-link">FAQ</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/roadmap/" class="nav-list-link">Roadmap</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/roadmap/oidc.html" class="nav-list-link">OpenID Connect</a></li></ul></li><li class="nav-list-item"><a href="/docs/about-us.html" class="nav-list-link">About Us</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/community/" class="nav-list-link">Community</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/community/two-factor-basic-auth.html" class="nav-list-link">2FA through basic auth</a></li><li class="nav-list-item "><a href="/docs/community/using-remote-user-header-for-sso-with-jira.html" class="nav-list-link">Using Remote-User header for SSO with Jira</a></li><li class="nav-list-item "><a href="/docs/community/additional-resources.html" class="nav-list-link">Miscellaneous Additional Resources</a></li><li class="nav-list-item "><a href="/docs/community/example-of-authelia-lite-on-docker-swarm.html" class="nav-list-link">Example of authelia lite on docker swarm</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/community/oidc-integrations.html" class="nav-list-link">Community-Tested OIDC Integrations</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/community/oidc-integrations/portainer.html" class="nav-list-link">Portainer</a> </li><li class="nav-list-item "> <a href="/docs/community/oidc-integrations/proxmox.html" class="nav-list-link">Proxmox</a> </li></ul></li><li class="nav-list-item "><a href="/docs/community/django-integration.html" class="nav-list-link">Integrate Authelia with Django</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Authelia" aria-label="Search Authelia" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="survey-wrapper" style="border: 1px solid #d6d6d6; border-radius: 5px; background-color: #f1f1f1; padding: 20px; display: flex; flex-direction: row; align-items: center;"> <svg viewBox="0 0 24 24" width="32px" height="32px" class="contrib-icon" style="display: inline-block"><use xlink:href="#svg-contrib"></use></svg> <span style="margin-left: 10px">Help the team improve <b>Authelia</b> by taking this <a href="https://forms.gle/aVw6J9jcez97EAhD6" target="_blank">10-second survey</a>.</span> </div> <div id="main-content" class="main-content" role="main"> <h1 id="configuration"> <a href="#configuration" class="anchor-heading" aria-labelledby="configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration </h1> <p>Authelia has several methods of configuration available to it. The order of precedence is as follows:</p> <ol> <li><a href="/docs/configuration/secrets.html">Secrets</a></li> <li><a href="#environment">Environment Variables</a></li> <li><a href="#files">Files</a> (in order of them being specified)</li> </ol> <p>This order of precedence puts higher weight on things higher in the list. This means anything specified in the <a href="#files">files</a> is overridden by <a href="#environment">environment variables</a> if specified, and anything specified by <a href="#environment">environment variables</a> is overridden by <a href="/docs/configuration/secrets.html">secrets</a> if specified.</p> <h2 id="files"> <a href="#files" class="anchor-heading" aria-labelledby="files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Files </h2> <p>When running <strong>Authelia</strong>, you can specify your configuration by passing the file path as shown below.</p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>authelia <span class="nt">--config</span> config.custom.yml
</code></pre></div></div> <p>You can have multiple configuration files which will be merged in the order specified. If duplicate keys are specified the last one to be specified is the one that takes precedence. Example:</p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>authelia <span class="nt">--config</span> configuration.yml <span class="nt">--config</span> config-acl.yml <span class="nt">--config</span> config-other.yml
<span class="gp">$</span><span class="w"> </span>authelia <span class="nt">--config</span> configuration.yml,config-acl.yml,config-other.yml
</code></pre></div></div> <p>Authelia’s configuration files use the YAML format. A template with all possible options can be found at the root of the repository <a href="https://github.com/authelia/authelia/blob/master/config.template.yml">here</a>.</p> <h3 id="docker"> <a href="#docker" class="anchor-heading" aria-labelledby="docker"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Docker </h3> <p>By default, the container looks for a configuration file at <code class="language-plaintext highlighter-rouge">/config/configuration.yml</code>. This can be changed using the <code class="language-plaintext highlighter-rouge">command</code> setting.</p> <h2 id="environment"> <a href="#environment" class="anchor-heading" aria-labelledby="environment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Environment </h2> <p>You may also provide the configuration by using environment variables. Environment variables are applied after the configuration file meaning anything specified as part of the environment overrides the configuration files. The environment variables must be prefixed with <code class="language-plaintext highlighter-rouge">AUTHELIA_</code>.</p> <p><em><strong>Please Note:</strong> It is not possible to configure</em> the <em>access control rules section or OpenID Connect identity provider section using environment variables at this time.</em></p> <p><em><strong>Please Note:</strong> There are compatability issues with Kubernetes and this particular configuration option. You must ensure you have the <code class="language-plaintext highlighter-rouge">enableServiceLinks: false</code> setting in your pod spec. You can read more about this in the <a href="/docs/configuration/migration.html#kubernetes-4300">migration documentation</a>.</em></p> <p>Underscores replace indented configuration sections or subkeys. For example the following environment variables replace the configuration snippet that follows it:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>AUTHELIA_LOG_LEVEL=info
AUTHELIA_SERVER_READ_BUFFER_SIZE=4096
</code></pre></div></div> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">log</span><span class="pi">:</span>
  <span class="na">level</span><span class="pi">:</span> <span class="s">info</span>
<span class="na">server</span><span class="pi">:</span>
  <span class="na">read_buffer_size</span><span class="pi">:</span> <span class="m">4096</span>
</code></pre></div></div> <h1 id="documentation"> <a href="#documentation" class="anchor-heading" aria-labelledby="documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Documentation </h1> <p>We document the configuration in two ways:</p> <ol> <li> <p>The configuration yaml default has comments documenting it. All documentation lines start with <code class="language-plaintext highlighter-rouge">##</code>. Lines starting with a single <code class="language-plaintext highlighter-rouge">#</code> are yaml configuration options which are commented to disable them or as examples.</p> </li> <li> <p>This documentation site. Generally each section of the configuration is in its own section of the documentation site. Each configuration option is listed in its relevant section as a heading, under that heading generally are two or three colored labels.</p> <ul> <li>The <code class="language-plaintext highlighter-rouge">type</code> label is purple and indicates the yaml value type of the variable. It optionally includes some additional information in parentheses.</li> <li>The <code class="language-plaintext highlighter-rouge">default</code> label is blue and indicates the default value if you don’t define the option at all. This is not the same value as you will see in the examples in all instances, it is the value set when blank or undefined.</li> <li>The <code class="language-plaintext highlighter-rouge">required</code> label changes color. When required it will be red, when not required it will be green, when the required state depends on another configuration value it is yellow.</li> </ul> </li> </ol> <h1 id="validation"> <a href="#validation" class="anchor-heading" aria-labelledby="validation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Validation </h1> <p>Authelia validates the configuration when it starts. This process checks multiple factors including configuration keys that don’t exist, configuration keys that have changed, the values of the keys are valid, and that a configuration key isn’t supplied at the same time as a secret for the same configuration option.</p> <p>You may also optionally validate your configuration against this validation process manually by using the validate-config option with the Authelia binary as shown below. Keep in mind if you’re using <a href="/docs/configuration/secrets.html">secrets</a> you will have to manually provide these if you don’t want to get certain validation errors (specifically requesting you provide one of the secret values). You can choose to ignore them if you know what you’re doing. This command is useful prior to upgrading to prevent configuration changes from impacting downtime in an upgrade. This process does not validate integrations, it only checks that your configuration syntax is valid.</p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>authelia validate-config <span class="nt">--config</span> configuration.yml
</code></pre></div></div> <h1 id="regex"> <a href="#regex" class="anchor-heading" aria-labelledby="regex"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Regex </h1> <p>We have several sections of configuration that utilize regular expressions. It’s recommended to validate your regex manually either via tools like <a href="https://regoio.herokuapp.com/">Rego</a> or some other means.</p> <p>It’s important when attempting to utilize a backslash that it’s utilized correctly. The YAML parser is likely to parse this as you trying to use YAML escape syntax instead of regex escape syntax. To avoid this use single quotes instead of no quotes or double quotes.</p> <p>Good Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">domain_regex</span><span class="pi">:</span> <span class="s1">'</span><span class="s">^(admin|secure)\.example\.com$'</span>
</code></pre></div></div> <p>Bad Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">domain_regex</span><span class="pi">:</span> <span class="s2">"</span><span class="s">^(admin|secure)</span><span class="err">\</span><span class="s">.example</span><span class="err">\</span><span class="s">.com$"</span>
</code></pre></div></div> <h1 id="duration-notation-format"> <a href="#duration-notation-format" class="anchor-heading" aria-labelledby="duration-notation-format"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Duration Notation Format </h1> <p>We have implemented a string/integer based notation for configuration options that take a duration of time. This section describes the implementation of this. You can use this implementation in various areas of configuration such as:</p> <ul> <li>session: <ul> <li>expiration</li> <li>inactivity</li> <li>remember_me_duration</li> </ul> </li> <li>regulation: <ul> <li>ban_time</li> <li>find_time</li> </ul> </li> <li>ntp: <ul> <li>max_desync</li> </ul> </li> <li>webauthn: <ul> <li>timeout</li> </ul> </li> </ul> <p>The way this format works is you can either configure an integer or a string in the specific configuration areas. If you supply an integer, it is considered a representation of seconds. If you supply a string, it parses the string in blocks of quantities and units (number followed by a unit letter). For example <code class="language-plaintext highlighter-rouge">5h</code> indicates a quantity of 5 units of <code class="language-plaintext highlighter-rouge">h</code>.</p> <p>While you can use multiple of these blocks in combination, ee suggest keeping it simple and use a single value.</p> <h2 id="duration-notation-format-unit-legend"> <a href="#duration-notation-format-unit-legend" class="anchor-heading" aria-labelledby="duration-notation-format-unit-legend"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Duration Notation Format Unit Legend </h2> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: center">Unit</th> <th style="text-align: center">Associated Letter</th> </tr> </thead> <tbody> <tr> <td style="text-align: center">Years</td> <td style="text-align: center">y</td> </tr> <tr> <td style="text-align: center">Months</td> <td style="text-align: center">M</td> </tr> <tr> <td style="text-align: center">Weeks</td> <td style="text-align: center">w</td> </tr> <tr> <td style="text-align: center">Days</td> <td style="text-align: center">d</td> </tr> <tr> <td style="text-align: center">Hours</td> <td style="text-align: center">h</td> </tr> <tr> <td style="text-align: center">Minutes</td> <td style="text-align: center">m</td> </tr> <tr> <td style="text-align: center">Seconds</td> <td style="text-align: center">s</td> </tr> </tbody> </table></div> <h2 id="duration-notation-format-examples"> <a href="#duration-notation-format-examples" class="anchor-heading" aria-labelledby="duration-notation-format-examples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Duration Notation Format Examples </h2> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: center">Desired Value</th> <th style="text-align: center">Configuration Examples</th> </tr> </thead> <tbody> <tr> <td style="text-align: center">1 hour and 30 minutes</td> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">90m</code> or <code class="language-plaintext highlighter-rouge">1h30m</code> or <code class="language-plaintext highlighter-rouge">5400</code> or <code class="language-plaintext highlighter-rouge">5400s</code></td> </tr> <tr> <td style="text-align: center">1 day</td> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">1d</code> or <code class="language-plaintext highlighter-rouge">24h</code> or <code class="language-plaintext highlighter-rouge">86400</code> or <code class="language-plaintext highlighter-rouge">86400s</code></td> </tr> <tr> <td style="text-align: center">10 hours</td> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">10h</code> or <code class="language-plaintext highlighter-rouge">600m</code> or <code class="language-plaintext highlighter-rouge">9h60m</code> or <code class="language-plaintext highlighter-rouge">36000</code></td> </tr> </tbody> </table></div> <h1 id="tls-configuration"> <a href="#tls-configuration" class="anchor-heading" aria-labelledby="tls-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> TLS Configuration </h1> <p>Various sections of the configuration use a uniform configuration section called TLS. Notably LDAP and SMTP. This section documents the usage.</p> <h2 id="server-name"> <a href="#server-name" class="anchor-heading" aria-labelledby="server-name"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Server Name </h2> <div> <p class="label label-config label-purple">type: string</p> <p class="label label-config label-blue">default: “”</p> <p class="label label-config label-green">required: no</p> </div> <p>The key <code class="language-plaintext highlighter-rouge">server_name</code> overrides the name checked against the certificate in the verification process. Useful if you require to use a direct IP address for the address of the backend service but want to verify a specific SNI.</p> <h2 id="skip-verify"> <a href="#skip-verify" class="anchor-heading" aria-labelledby="skip-verify"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Skip Verify </h2> <div> <p class="label label-config label-purple">type: boolean</p> <p class="label label-config label-blue">default: false</p> <p class="label label-config label-green">required: no</p> </div> <p>The key <code class="language-plaintext highlighter-rouge">skip_verify</code> completely negates validating the certificate of the backend service. This is not recommended, instead you should tweak the <code class="language-plaintext highlighter-rouge">server_name</code> option, and the global option <a href="/docs/configuration/miscellaneous.html#certificates_directory">certificates directory</a>.</p> <h2 id="minimum-version"> <a href="#minimum-version" class="anchor-heading" aria-labelledby="minimum-version"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Minimum Version </h2> <div> <p class="label label-config label-purple">type: string</p> <p class="label label-config label-blue">default: TLS1.2</p> <p class="label label-config label-green">required: no</p> </div> <p>The key <code class="language-plaintext highlighter-rouge">minimum_version</code> controls the minimum TLS version Authelia will use when opening TLS connections. The possible values are <code class="language-plaintext highlighter-rouge">TLS1.3</code>, <code class="language-plaintext highlighter-rouge">TLS1.2</code>, <code class="language-plaintext highlighter-rouge">TLS1.1</code>, <code class="language-plaintext highlighter-rouge">TLS1.0</code>. Anything other than <code class="language-plaintext highlighter-rouge">TLS1.3</code> or <code class="language-plaintext highlighter-rouge">TLS1.2</code> are very old and deprecated. You should avoid using these and upgrade your backend service instead of decreasing this value.</p> <hr> <h2 class="text-delta">Table of contents</h2> <ul> <li> <a href="/docs/configuration/access-control.html">Access Control</a> </li> <li> <a href="/docs/configuration/authentication/">Authentication Backends</a> </li> <li> <a href="/docs/configuration/duo-push-notifications.html">Duo Push Notifications</a> </li> <li> <a href="/docs/configuration/identity-providers/">Identity Providers</a> </li> <li> <a href="/docs/configuration/logging.html">Logging</a> </li> <li> <a href="/docs/configuration/migration.html">Migration</a> </li> <li> <a href="/docs/configuration/miscellaneous.html">Miscellaneous</a> </li> <li> <a href="/docs/configuration/notifier/">Notifier</a> </li> <li> <a href="/docs/configuration/ntp.html">NTP</a> </li> <li> <a href="/docs/configuration/regulation.html">Regulation</a> </li> <li> <a href="/docs/configuration/secrets.html">Secrets</a> </li> <li> <a href="/docs/configuration/server.html">Server</a> </li> <li> <a href="/docs/configuration/session/">Session</a> </li> <li> <a href="/docs/configuration/storage/">Storage Backends</a> </li> <li> <a href="/docs/configuration/theme.html">Theme</a> </li> <li> <a href="/docs/configuration/one-time-password.html">Time-based One-Time Password</a> </li> <li> <a href="/docs/configuration/webauthn.html">Webauthn</a> </li> <li> <a href="/docs/configuration/password_policy.html">Password Policy</a> </li> </ul> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2022 Authelia. Distributed by an <a href="https://github.com/authelia/authelia/blob/master/LICENSE">Apache 2.0 license.</a> </p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
